!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,d=0,l=[],u=n(8);function h(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(v(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(v(r.parts[s],e));o[r.id]={id:r.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function m(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return b(e,t.attrs),m(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var s=d++;n=c||(c=g(e)),r=E.bind(null,n,s,!1),i=E.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),m(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return h(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}t&&h(p(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var x,y=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function E(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2),i=r(n(5)),o=r(n(6)),s=r(n(7));e.push([t.i,".frame {\n  display: block;\n  margin: 5px;\n  border: 2px solid grey;\n  background-color: lightgray;\n}\n\n.frame-container {\n  display: flex;\n  flex-direction: column;\n  width: 114px;\n  height: 440px;\n  padding-right: 12px;\n  overflow: auto;\n}\n\n.frame-item {\n  position: relative;\n}\n\n.number-in-list {\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  width: 20px;\n  height: 20px;\n  font-size: 15px;\n  text-align: center;\n  color: black;\n  background-color: yellow;\n  visibility: visible;\n}\n\n.delete-frame {\n  top: 10px;\n  left: 82px;\n  background: url("+i+") no-repeat;\n}\n\n.duplicate-frame {\n  top: 80px;\n  right: 12px;\n  background: url("+o+") no-repeat;\n}\n\n.reorder-frame {\n  top: 80px;\n  left: 10px;\n  background: url("+s+") no-repeat;\n}\n\n.frame-button {\n  position: absolute;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n  border: none;\n  outline: none;\n  visibility: hidden;\n}\n\n.frame-item:hover .frame-button {\n  visibility: visible;\n  cursor: pointer;\n}\n\n.active-frame {\n  border: 2px solid yellow;\n}\n",""])},function(t,e,n){t.exports=n.p+"53a4a9c78471e288001011ba99defbc0.svg"},function(t,e,n){t.exports=n.p+"85bae314741ff3097e5fb00bdb40a54e.svg"},function(t,e,n){t.exports=n.p+"71439c95a12c48c45e9cd4946acb5319.svg"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(10);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".preview {\n  background-color: lightgray;\n  border: 1px solid black;\n}\n\n.preview-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 202px;\n  height: 302px;\n}\n\n.fps-container {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.fullscreen-btn {\n  width: 70px;\n  height: 20px;\n  margin: 10px;\n  border-radius: 5px;\n  box-shadow: 0 2px 5px;\n  outline: none;\n  background-color: yellow;\n  cursor: pointer;\n}\n\n.display-fps {\n  font-size: 15px;\n  color: yellow;\n}\n",""])},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2),i=r(n(13)),o=r(n(14)),s=r(n(15)),a=r(n(16)),c=r(n(17)),d=r(n(18)),l=r(n(19)),u=r(n(20));e.push([t.i,"* {\n  padding: 0;\n  margin: 0;\n}\n\nhtml {\n  height: 100%;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 100%;\n  font: italic small-caps normal 2em Arial, Helvetica, sans-serif;\n  background-color: #111111;\n  color: yellow;\n}\n\n.start-header {\n  height: 70px;\n  text-align: center;\n}\n\n.start-main {\n  display: flex;\n  justify-content: space-evenly;\n  width: 90%;\n  margin: 0 auto;\n  text-align: center;\n}\n\n.start-footer {\n  padding: 10px;\n  font-size: 0.5em;\n  text-align: center;\n}\n\n.start-button {\n  width: 100px;\n  height: 50px;\n  font: italic small-caps normal 1em Arial, Helvetica, sans-serif;\n  text-align: center;\n  background-color: yellow;\n  border-radius: 5px;\n  outline: none;\n}\n\n.sidebar-tools {\n  display: flex;\n  flex-wrap: wrap;\n  width: 90px;\n  height: 80px;\n  margin-bottom: 30px;\n}\n\n.button {\n  height: 40px;\n  width: 45px;\n  border: 1px solid grey;\n  outline: none;\n}\n\n.button:hover {\n  cursor: pointer;\n  background-color: #222222;\n}\n\n.pen {\n  background: url("+i+") no-repeat 8px 5px;\n  background-size: 25px;\n}\n\n.choose-color {\n  background: url("+o+") no-repeat 8px 5px;\n  background-size: 25px;\n}\n\n.paint-bucket {\n  background: url("+s+") no-repeat 8px 5px;\n  background-size: 25px;\n}\n\n.eraser {\n  background: url("+a+") no-repeat 8px 5px;\n  background-size: 25px;\n}\n\n.add-button {\n  display: block;\n  width: 100px;\n  height:30px;\n  padding-left: 40px;\n  background: url("+c+") no-repeat lightgray 10px 0;\n  border: 1px solid darkgrey;\n  border-radius: 5px;\n  box-shadow: 0 2px 5px;\n  outline: none;\n}\n\n.add-button:hover {\n  border: 1px solid yellow;\n  cursor: pointer;\n}\n\n.active {\n  border: 2px solid yellow;\n}\n\n.main-color {\n  height: 45px;\n  margin-top: 10px;\n  cursor: pointer;\n}\n\n.size-button {\n  height: 20px;\n  padding: 2px;\n  cursor: pointer;\n  outline: none;\n}\n\n.size-button:hover,\n.active-size {\n  background-color: yellow;\n  border-radius: 5px;\n}\n\n.display-coordinates {\n  margin-top: 20px;\n  font-size: 15px;\n}\n\n.description-container {\n  display: flex;\n  margin-top: 20px;\n}\n\n.screenShot {\n  width: 800px;\n  height: 400px;\n  margin: 30px;\n  background: url("+d+") no-repeat;\n  background-size: 700px;\n  border: 2px solid yellow;\n}\n\n.description-text-container {\n  width: 600px;\n}\n\n.description-text {\n  font-size: 25px;\n}\n\n.example-gif_one {\n  width: 100px;\n  height: 100px;\n  margin: 5px;\n  background: url("+l+") no-repeat;\n  background-size: 100px;\n}\n\n.example-gif_two {\n  width: 100px;\n  height: 100px;\n  margin: 5px;\n  background: url("+u+") no-repeat;\n  background-size: 100px;\n}\n\n.landing-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  width: 95%;\n  margin: 5px auto;\n  text-align: center;\n}\n",""])},function(t,e,n){t.exports=n.p+"665fb07dee4a819729c3b5813e2d7673.svg"},function(t,e,n){t.exports=n.p+"614652adeffe3c88d2ee6d8c5f11f308.svg"},function(t,e,n){t.exports=n.p+"d955b3112b5bec3c924185eea40b7552.svg"},function(t,e,n){t.exports=n.p+"e604d398198532a67a921ad14a92f1ae.svg"},function(t,e,n){t.exports=n.p+"5450746d3e3ca873c7fb1fffa409ec96.svg"},function(t,e,n){t.exports=n.p+"7ce151b19330ebd13b311a2913da1dc1.png"},function(t,e,n){t.exports=n.p+"13393f0e537cd849d9c6dccc524e84ec.gif"},function(t,e,n){t.exports=n.p+"eaafb2f57e7bbd23521f8466ded2032f.gif"},function(t,e,n){"use strict";n.r(e);const r={PEN:"pen-tool",CHOOSE_COLOR:"choose-color-tool",PAINT_BUCKET:"paint-bucket-tool",ERASER:"eraser-tool"},i=16,o=8,s=4;class a{constructor(){this.canvas="",this.ctx="",this.currX=0,this.currY=0,this.coordX=0,this.coordY=0,this.startX=0,this.startY=0,this.flag=!1,this.dot_flag=!1,this.updateActiveFrame=()=>{},this.unit=16,this.currentTool=""}init(){const t=document.createElement("div");this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.setAttribute("id","canvas"),this.canvas.setAttribute("width","512"),this.canvas.setAttribute("height","512"),this.canvas.style.backgroundColor="#c9c9c9";const e=document.querySelector(".start-main");t.appendChild(this.canvas),e.appendChild(t),this.canvas.addEventListener("mousemove",t=>{this.findPosition("move",t)},!1),this.canvas.addEventListener("mousedown",t=>{this.findPosition("down",t)},!1),this.canvas.addEventListener("mouseup",t=>{this.findPosition("up",t)},!1),this.canvas.addEventListener("mouseout",t=>{this.findPosition("out",t)},!1)}draw(){this.ctx.beginPath(),this.coordX=Math.floor(this.currX/this.unit),this.coordY=Math.floor(this.currY/this.unit),this.startX=this.coordX*this.unit,this.startY=this.coordY*this.unit,this.ctx.fillRect(this.startX,this.startY,this.unit,this.unit),this.ctx.closePath(),this.ctx.stroke(),this.updateActiveFrame(this.canvas)}choosePrimeColor(t){const e=document.querySelector(".main-color");if(t.target===this.canvas){const{data:t}=this.canvas.getContext("2d").getImageData(this.startX,this.startY,1,1);e.value=`#${`000000${function(t,e,n){if(t>255||e>255||n>255)throw Error("Invalid color component");return(t<<16|e<<8|n).toString(16)}(t[0],t[1],t[2])}`.slice(-6)}`}}findPosition(t,e){if("down"===t){if(this.currX=e.layerX,this.currY=e.layerY,this.coordX=Math.floor(this.currX/this.unit),this.coordY=Math.floor(this.currY/this.unit),this.startX=this.coordX*this.unit,this.startY=this.coordY*this.unit,this.flag=!0,this.dot_flag=!0,this.dot_flag&&this.currentTool===r.PEN){const t=document.querySelector(".main-color");this.ctx.beginPath(),this.ctx.fillStyle=t.value,this.ctx.fillRect(this.startX,this.startY,this.unit,this.unit),this.ctx.closePath(),this.dot_flag=!1,this.updateActiveFrame(this.canvas)}this.dot_flag&&this.currentTool===r.ERASER&&(this.ctx.clearRect(this.startX,this.startY,this.unit,this.unit),this.dot_flag=!1,this.updateActiveFrame(this.canvas)),this.dot_flag&&this.currentTool===r.CHOOSE_COLOR&&this.choosePrimeColor(e),this.dot_flag&&this.currentTool===r.PAINT_BUCKET&&this.paintBucket()}"up"!==t&&"out"!==t||(this.flag=!1),"move"===t&&(this.currX=e.layerX,this.currY=e.layerY,this.flag&&this.currentTool===r.PEN&&this.draw(),this.flag&&this.currentTool===r.ERASER&&this.clear())}paintBucket(){this.coordX=Math.floor(this.currX/this.unit),this.coordY=Math.floor(this.currY/this.unit),this.startX=this.coordX*this.unit,this.startY=this.coordY*this.unit;const t=document.querySelector(".main-color"),e=[[this.startX,this.startY]],{data:n}=this.canvas.getContext("2d").getImageData(this.startX,this.startY,1,1),r=`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]})`;for(;e.length;){const n=e.pop(),i=n[0],o=n[1];this.ctx.fillStyle=t.value,this.ctx.fillRect(i,o,this.unit,this.unit),this.checkUnit(i+this.unit,o,e,r)&&e.push([i+this.unit,o]),this.checkUnit(i-this.unit,o,e,r)&&e.push([i-this.unit,o]),this.checkUnit(i,o+this.unit,e,r)&&e.push([i,o+this.unit]),this.checkUnit(i,o-this.unit,e,r)&&e.push([i,o-this.unit])}this.updateActiveFrame(this.canvas)}checkUnit(t,e,n,r){const{data:i}=this.canvas.getContext("2d").getImageData(t,e,1,1),o=`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`;return!(t<0||e<0||t>=this.canvas.width||e>=this.canvas.height)&&(!n.includes([t,e])&&o===r)}clear(){this.ctx.beginPath(),this.coordX=Math.floor(this.currX/this.unit),this.coordY=Math.floor(this.currY/this.unit),this.startX=this.coordX*this.unit,this.startY=this.coordY*this.unit,this.ctx.clearRect(this.startX,this.startY,this.unit,this.unit),this.ctx.closePath(),this.ctx.stroke(),this.updateActiveFrame(this.canvas)}setUpdateHandler(t){this.updateActiveFrame=t}setCurrentTool(t){this.currentTool=t}setCurrentUnit(t){this.unit=t}drawActive(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.mozImageSmoothingEnabled=!1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,0,0,512,512)}}n(3);class c{constructor(){this.frames=[],this.activeFrame="",this.updateCanvas=()=>{},this.draggable="",this.over=""}start(){this.createFrame();const t=document.querySelector(".frame");this.active(t)}render(){const t=document.querySelector(".frame-container");t.innerHTML="",this.frames.forEach((e,n)=>{e.setAttribute("data-id",n),e.querySelector(".number-in-list").innerText=`${n+1}`,t.appendChild(e)})}createFrame(){const t=document.createElement("div");t.classList.add("frame-item"),t.setAttribute("draggable","true");const e=document.createElement("canvas");e.classList.add("frame"),e.setAttribute("width","96"),e.setAttribute("height","96"),t.appendChild(e);const n=document.createElement("span");if(n.classList.add("number-in-list"),t.appendChild(n),this.frames.length>0){const e=document.createElement("button");e.classList.add("delete-frame"),e.classList.add("frame-button"),t.appendChild(e);const n=document.createElement("button");n.classList.add("reorder-frame"),n.classList.add("frame-button"),t.appendChild(n)}if(1===this.frames.length){const t=document.querySelector(".frame-item"),e=document.createElement("button");e.classList.add("delete-frame"),e.classList.add("frame-button"),t.appendChild(e);const n=document.createElement("button");n.classList.add("reorder-frame"),n.classList.add("frame-button"),t.appendChild(n)}const r=document.createElement("button");r.classList.add("duplicate-frame"),r.classList.add("frame-button"),t.appendChild(r),this.frames.push(t),this.active(e),this.render()}deleteFrame(t){const e=t.parentNode,n=e.getAttribute("data-id");if(this.frames.splice(n,1),e.childNodes[0].classList.contains("active-frame")&&(e.previousSibling?this.active(e.previousSibling.childNodes[0]):this.active(e.nextSibling.childNodes[0])),this.render(),1===this.frames.length){const t=document.querySelector(".frame-item"),e=document.querySelector(".delete-frame");t.removeChild(e);const n=document.querySelector(".reorder-frame");t.removeChild(n)}}active(t){document.querySelectorAll(".frame").forEach(t=>t.classList.remove("active-frame")),t.classList.add("active-frame"),this.activeFrame=t,this.render(),this.updateCanvas(this.activeFrame)}duplicateFrame(t){const e=t.parentNode,n=Number(e.getAttribute("data-id")),r=e.cloneNode(!0);if(this.frames.length>0){const t=document.createElement("button");t.classList.add("delete-frame"),t.classList.add("frame-button"),r.appendChild(t);const e=document.createElement("button");e.classList.add("reorder-frame"),e.classList.add("frame-button"),r.appendChild(e)}if(1===this.frames.length){const t=document.querySelector(".frame-item"),e=document.createElement("button");e.classList.add("delete-frame"),e.classList.add("frame-button"),t.appendChild(e);const n=document.createElement("button");n.classList.add("reorder-frame"),n.classList.add("frame-button"),t.appendChild(n)}const i=e.childNodes[0],o=r.childNodes[0];this.frames.splice(n+1,0,r),o.getContext("2d").drawImage(i,0,0,96,96),this.activeFrame=o,this.active(o),this.render()}setUpdateHandler(t){this.updateCanvas=t}drawActive(t){const e=this.activeFrame.getContext("2d");e.clearRect(0,0,this.activeFrame.width,this.activeFrame.height),e.mozImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,e.drawImage(t,0,0,96,96)}getDraggableFrame(t){this.draggable=t.target}getOverFrame(t){t.preventDefault(),this.over=t.target}reorder(t){t.preventDefault();const e=document.querySelector(".frame-container");this.draggable.getAttribute("data-id")>this.over.getAttribute("data-id")?(e.insertBefore(this.draggable,this.over),this.draggable.setAttribute("data-id",this.over.getAttribute("data-id")),this.over.setAttribute("data-id",`${Number(t.target.getAttribute("data-id"))+1}`)):(e.insertBefore(this.draggable,this.over.nextSibling),this.draggable.setAttribute("data-id",this.over.getAttribute("data-id")),this.over.setAttribute("data-id",`${Number(t.target.getAttribute("data-id"))-1}`)),this.frames.sort((t,e)=>t.getAttribute("data-id")-e.getAttribute("data-id")),this.active(this.draggable.childNodes[0]),this.render()}}n(9);class d{constructor(){this.frames="",this.currentFrameIndex=0,this.preview="",this.destCtx="",this.fps=13}setFrames(t){this.frames=t}getFps(t){this.fps=Number(t)}renderFrames(){setTimeout(()=>requestAnimationFrame(this.renderFrames.bind(this)),1e3/this.fps),this.preview=document.querySelector(".preview"),this.destCtx=this.preview.getContext("2d"),this.destCtx.mozImageSmoothingEnabled=!1,this.destCtx.webkitImageSmoothingEnabled=!1,this.destCtx.msImageSmoothingEnabled=!1,this.destCtx.imageSmoothingEnabled=!1,this.destCtx.clearRect(0,0,this.preview.width,this.preview.height),this.currentFrameIndex>=this.frames.length&&(this.currentFrameIndex=0),this.destCtx.drawImage(this.frames[this.currentFrameIndex].childNodes[0],0,0,200,200),this.currentFrameIndex+=1}show(){this.renderFrames()}toggleFullscreen(){document.fullscreenElement?document.exitFullscreen():this.preview.requestFullscreen().catch(t=>{window.console.log(`Error attempting to enable full-screen mode: ${t.message} (${t.name})`)})}}class l{constructor(){this.currentTool="",this.updateCurrentTool=()=>{}}setTool(t){this.currentTool=t,this.updateCurrentTool(t)}setUpdateHandler(t){this.updateCurrentTool=t}}class u{constructor(){this.currentUnit=16,this.updateCurrentUnit=()=>{}}setUnit(t){this.currentUnit=t,this.updateCurrentUnit(t)}setUpdateHandler(t){this.updateCurrentUnit=t}}n(11);window.onload=()=>{const t=document.querySelector(".start-button"),e=document.querySelector(".landing-container"),n=document.querySelector(".start-footer"),h=document.querySelector(".start-main"),p=new a,m=new c,f=new d,g=new l,b=new u;p.setUpdateHandler(m.drawActive.bind(m)),m.setUpdateHandler(p.drawActive.bind(p)),g.setUpdateHandler(p.setCurrentTool.bind(p)),b.setUpdateHandler(p.setCurrentUnit.bind(p)),g.setTool(r.PEN),b.setUnit(i),t.addEventListener("click",()=>{const t=document.createElement("div");t.classList.add("sidebar-tools"),h.appendChild(t);const r=document.createElement("button");r.classList.add("button","pen","active"),t.appendChild(r);const i=document.createElement("button");i.classList.add("button","choose-color"),t.appendChild(i);const o=document.createElement("button");o.classList.add("button","paint-bucket"),t.appendChild(o);const s=document.createElement("button");s.classList.add("button","eraser"),t.appendChild(s);const a=document.createElement("div");a.classList.add("sidebar-color"),a.classList.add("not-visible"),t.appendChild(a);const c=document.createElement("input");c.type="color",c.classList.add("main-color");const d=document.createElement("label");d.setAttribute("for","main-color"),a.appendChild(c),a.appendChild(d);const l=document.createElement("div");l.classList.add("frame-container"),h.appendChild(l);const u=document.createElement("button");u.classList.add("add-button"),u.textContent="Add new frame",h.appendChild(u),p.init();const g=document.createElement("div");g.classList.add("preview-container");const b=document.createElement("button");b.classList.add("fullscreen-btn"),b.textContent="Fullscreen",g.appendChild(b);const v=document.createElement("div");g.appendChild(v);const x=document.createElement("canvas");v.appendChild(x),x.classList.add("preview"),x.setAttribute("width","200"),x.setAttribute("height","200");const y=document.createElement("form");y.classList.add("fps-container");const E=document.createElement("output");E.classList.add("display-fps"),E.textContent="13 FPS",y.appendChild(E);const C=document.createElement("input");C.type="range",C.name="fps",C.min="1",C.max="24",C.value="13",y.appendChild(C);const w=document.createElement("label");w.setAttribute("for","fps"),y.appendChild(w),g.appendChild(y);const L=document.createElement("div"),S=document.createElement("button");S.classList.add("size-button","small-size","active-size"),S.textContent="32x32";const k=document.createElement("button");k.classList.add("size-button","medium-size"),k.textContent="64x64";const A=document.createElement("button");A.classList.add("size-button","big-size"),A.textContent="128x128",L.appendChild(S),L.appendChild(k),L.appendChild(A),g.appendChild(L);const U=document.createElement("span");U.classList.add("display-coordinates"),U.textContent="",g.appendChild(U),h.appendChild(g),m.start(),e.style.display="none",n.style.visibility="hidden",f.setFrames(m.frames),f.show()}),document.addEventListener("click",t=>{const e=document.querySelectorAll(".duplicate-frame");for(let n=0;n<e.length;n+=1)if(t.target===e[n])return void m.duplicateFrame(e[n])}),document.addEventListener("click",t=>{const e=document.querySelectorAll(".delete-frame");for(let n=0;n<e.length;n+=1)if(t.target===e[n])return void m.deleteFrame(e[n])}),document.addEventListener("click",t=>{const e=document.querySelectorAll(".frame");for(let n=0;n<e.length;n+=1)if(t.target===e[n])return void m.active(e[n])}),document.addEventListener("click",t=>{const e=document.querySelector(".add-button");t.target===e&&m.createFrame()}),document.addEventListener("input",t=>{const e=document.querySelector("input[name = fps]");if(t.target===e){f.getFps(e.value),document.querySelector(".display-fps").textContent=`${f.fps} FPS`}}),document.addEventListener("click",t=>{const e=document.querySelector(".fullscreen-btn");t.target===e&&f.toggleFullscreen()}),document.addEventListener("dragstart",t=>{document.querySelectorAll(".frame-item").forEach(e=>{t.target===e&&m.getDraggableFrame(t)})},!1),document.addEventListener("dragover",t=>{document.querySelectorAll(".frame-item").forEach(e=>{t.target===e&&m.getOverFrame(t)})},!1),document.addEventListener("dragend",t=>{document.querySelectorAll(".frame-item").forEach(e=>{t.target===e&&m.reorder(t)})},!1),document.addEventListener("click",t=>{const e=document.querySelector(".pen");t.target===e&&g.setTool(r.PEN)}),document.addEventListener("click",t=>{const e=document.querySelector(".choose-color");t.target===e&&g.setTool(r.CHOOSE_COLOR)}),document.addEventListener("click",t=>{const e=document.querySelector(".paint-bucket");t.target===e&&g.setTool(r.PAINT_BUCKET)}),document.addEventListener("click",t=>{const e=document.querySelector(".eraser");t.target===e&&g.setTool(r.ERASER)}),document.addEventListener("mousedown",t=>{const e=document.querySelectorAll(".button");for(let n=0;n<e.length;n+=1)if(t.target===e[n])return Array.from(e).forEach(t=>t.classList.remove("active")),void e[n].classList.add("active")}),document.addEventListener("click",t=>{const e=document.querySelector(".small-size");t.target===e&&b.setUnit(i)}),document.addEventListener("click",t=>{const e=document.querySelector(".medium-size");t.target===e&&b.setUnit(o)}),document.addEventListener("click",t=>{const e=document.querySelector(".big-size");t.target===e&&b.setUnit(s)}),document.addEventListener("mousedown",t=>{const e=document.querySelectorAll(".size-button");for(let n=0;n<e.length;n+=1)if(t.target===e[n])return Array.from(e).forEach(t=>t.classList.remove("active-size")),void e[n].classList.add("active-size")}),document.addEventListener("mousemove",t=>{const e=document.getElementById("canvas"),n=document.querySelector(".display-coordinates");t.target===e?n.textContent=`[ ${Math.floor(t.layerX/p.unit)} : ${Math.floor(t.layerY/p.unit)} ]`:n.textContent=""}),document.addEventListener("keydown",t=>{const e=document.querySelectorAll(".button"),n=document.querySelector(".paint-bucket"),i=document.querySelector(".choose-color"),o=document.querySelector(".eraser"),s=document.querySelector(".pen");switch(Array.from(e).forEach(t=>t.classList.remove("active")),t.key){case"b":n.classList.add("active"),g.setTool(r.PAINT_BUCKET);break;case"c":i.classList.add("active"),g.setTool(r.CHOOSE_COLOR);break;case"p":s.classList.add("active"),g.setTool(r.PEN);break;case"e":o.classList.add("active"),g.setTool(r.ERASER);break;default:window.console.log("no such action")}})},class{static init(){const t=document.createElement("header");t.classList.add("start-header"),t.textContent="Piskel-Clone",document.body.appendChild(t);const e=document.createElement("main");e.classList.add("start-main"),document.body.appendChild(e);const n=document.createElement("footer");n.classList.add("start-footer"),n.textContent="Created by Maryna Petrenko (student of Rolling Scopes School)",document.body.appendChild(n);const r=document.createElement("div");r.classList.add("landing-container"),e.appendChild(r);const i=document.createElement("button");i.classList.add("start-button"),i.textContent="draw",r.appendChild(i);const o=document.createElement("div");o.classList.add("description-container"),r.appendChild(o);const s=document.createElement("div");s.classList.add("description-text-container"),o.appendChild(s);const a=document.createElement("p");a.classList.add("description-text"),a.textContent="Piskel-Clone is the simplest clone of Piskel (free online editor for animated sprites & pixel art).You may use next tools: pen (for drawing),color picker (for choosing color),paint bucket (for color filling), and eraser (for deletion). Also you may add, delete, duplicate and reorder frames, change size of main canvas, see your animation in the small preview window and in fullscreen mode, and change the animation speed (FPS). Enjoy",s.appendChild(a);const c=document.createElement("div");c.classList.add("screenShot"),o.appendChild(c);const d=document.createElement("div");d.classList.add("example-container"),r.appendChild(d);const l=document.createElement("p");l.textContent="Examples: ",d.appendChild(l);const u=document.createElement("img");u.classList.add("example-gif_one"),d.appendChild(u);const h=document.createElement("img");h.classList.add("example-gif_two"),d.appendChild(h)}}.init()}]);
//# sourceMappingURL=app.bundle.js.map